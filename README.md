# ğŸ° ë¸”ë¡ì²´ì¸ ë³µê¶Œ DApp (í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë¸)

ë¸”ë¡ì²´ì¸ ê¸°ë°˜ íˆ¬ëª…í•œ ë³µê¶Œ ì‹œìŠ¤í…œ. **ë§¤ ë¼ìš´ë“œ ë³´ì¥ ë‹¹ì²¨ + ì­íŒŸ ì´ì›”** êµ¬ì¡°ë¡œ ì´ˆê¸° ì‚¬ìš©ìë„ ë‹¹ì²¨ ê²½í—˜ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

[![Deploy with Vercel](https://vercel.com/button)](https://vercel.com/new/clone?repository-url=https://github.com/menschhelt/snu-lottery-dapp)

## ğŸ¯ í•˜ì´ë¸Œë¦¬ë“œ ë³µê¶Œ ëª¨ë¸

ê¸°ì¡´ ë³µê¶Œì˜ ë¬¸ì œì ì„ í•´ê²°í•œ í˜ì‹ ì ì¸ êµ¬ì¡°:

```
ì°¸ê°€ê¸ˆ 100%
â”œâ”€â”€ ğŸ ë³´ì¥ ë‹¹ì²¨ í’€ (50%): ë§¤ ë¼ìš´ë“œ ë¬´ì¡°ê±´ 1ëª… ë‹¹ì²¨!
â””â”€â”€ ğŸ° ì­íŒŸ í’€ (50%): 10% í™•ë¥ ë¡œ ë‹¹ì²¨, ë¯¸ë‹¹ì²¨ ì‹œ ì´ì›”
```

### ì™œ í•˜ì´ë¸Œë¦¬ë“œì¸ê°€?

| ê¸°ì¡´ ë³µê¶Œ | ìš°ë¦¬ ë³µê¶Œ |
|----------|----------|
| ë‹¹ì²¨ ì•ˆë˜ë©´ í—ˆíƒˆ | ë§¤ë²ˆ ëˆ„êµ°ê°€ëŠ” ë‹¹ì²¨ |
| ëŒ€ë°• ì•„ë‹ˆë©´ ì˜ë¯¸ ì—†ìŒ | ì†Œì•¡ ë‹¹ì²¨ + ì­íŒŸ ê¸°ëŒ€ |
| ì´ˆê¸° ì‚¬ìš©ì ë§¤ë ¥ ì—†ìŒ | ì²« ë¼ìš´ë“œë¶€í„° ë‹¹ì²¨ ê°€ëŠ¥ |

### ìˆ˜ìµ ë¶„ë°° (85/10/5)

ë³´ì¥ ë‹¹ì²¨ê¸ˆê³¼ ì­íŒŸ ë‹¹ì²¨ê¸ˆ ëª¨ë‘ ë™ì¼í•˜ê²Œ ì ìš©:

```
ë‹¹ì²¨ê¸ˆ 100%
â”œâ”€â”€ ğŸ‘¤ ë‹¹ì²¨ì: 85%
â”œâ”€â”€ ğŸ’ ê¸°ë¶€: 10% (ìë™ ì§‘í–‰, íˆ¬ëª…ì„± ë³´ì¥)
â””â”€â”€ âš™ï¸ ìš´ì˜ë¹„: 5% (VRF ë¹„ìš© ë“±)
```

## ğŸ’ ì£¼ìš” ê¸°ëŠ¥

- **ë§¤ ë¼ìš´ë“œ ë‹¹ì²¨ ë³´ì¥**: ì°¸ê°€ì ì¤‘ ë¬´ì¡°ê±´ 1ëª…ì€ ë³´ì¥ ë‹¹ì²¨ê¸ˆ íšë“
- **ì­íŒŸ ì´ì›” ì‹œìŠ¤í…œ**: 10% í™•ë¥ ë¡œ ì­íŒŸ ë‹¹ì²¨, ë¯¸ë‹¹ì²¨ ì‹œ ëˆ„ì 
- **ê³µì •í•œ ì¶”ì²¨**: Chainlink VRFë¥¼ ì‚¬ìš©í•œ ì¡°ì‘ ë¶ˆê°€ëŠ¥í•œ ë‚œìˆ˜ ìƒì„±
- **íˆ¬ëª…í•œ ê¸°ë¶€**: ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ì— ì˜í•´ ìë™ ê¸°ë¶€ (10%)
- **ì˜êµ¬ ê¸°ë¡**: ëª¨ë“  ì°¸ê°€, ë‹¹ì²¨, ê¸°ë¶€ ë‚´ì—­ì´ ë¸”ë¡ì²´ì¸ì— ê¸°ë¡
- **ê²€ì¦ ê°€ëŠ¥**: ëˆ„êµ¬ë‚˜ Etherscanì—ì„œ ëª¨ë“  ê±°ë˜ í™•ì¸ ê°€ëŠ¥

## ğŸ“Š ì˜ˆì‹œ ì‹œë‚˜ë¦¬ì˜¤

| ë¼ìš´ë“œ | ì°¸ê°€ì | ì°¸ê°€ê¸ˆ | ë³´ì¥ ë‹¹ì²¨ (50%) | ì­íŒŸ í’€ (50%) | ì­íŒŸ ë‹¹ì²¨? |
|--------|--------|--------|----------------|--------------|-----------|
| 1 | 10ëª… | 0.1 ETH | 0.0425 ETH (85%) | 0.05 ETH ëˆ„ì  | âŒ ì´ì›” |
| 2 | 15ëª… | 0.15 ETH | 0.0638 ETH (85%) | 0.125 ETH ëˆ„ì  | âŒ ì´ì›” |
| 3 | 20ëª… | 0.2 ETH | 0.085 ETH (85%) | 0.225 ETH ëˆ„ì  | âœ… ë‹¹ì²¨! â†’ 0.191 ETH (85%) |

*ê¸°ë¶€ 10%, ìš´ì˜ë¹„ 5% ê³µì œ í›„ ê¸ˆì•¡

## ê¸°ìˆ  ìŠ¤íƒ

### ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸
- Solidity ^0.8.19
- Chainlink VRF V2+
- Sepolia í…ŒìŠ¤íŠ¸ë„·

### í”„ë¡ íŠ¸ì—”ë“œ
- React 18
- ethers.js 6
- Vite 5

### CI/CD
- GitHub Actions
- Vercel

## ë¹ ë¥¸ ì‹œì‘

### 1. ì €ì¥ì†Œ í´ë¡ 
```bash
git clone https://github.com/menschhelt/snu-lottery-dapp.git
cd snu-lottery-dapp
```

### 2. ì˜ì¡´ì„± ì„¤ì¹˜
```bash
cd frontend
npm install
```

### 3. í™˜ê²½ë³€ìˆ˜ ì„¤ì •
```bash
cp .env.example .env.local
```

`.env.local` ìˆ˜ì •:
```
VITE_CONTRACT_ADDRESS=0x_your_contract_address
VITE_CHAIN_ID=11155111
```

### 4. ê°œë°œ ì„œë²„ ì‹¤í–‰
```bash
npm run dev
```

ë¸Œë¼ìš°ì €ì—ì„œ http://localhost:3000 ì ‘ì†

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
lottery-dapp/
â”œâ”€â”€ .github/
â”‚   â””â”€â”€ workflows/
â”‚       â””â”€â”€ deploy.yml        # CI/CD ì›Œí¬í”Œë¡œìš°
â”œâ”€â”€ contracts/
â”‚   â””â”€â”€ Lottery.sol           # ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (í•˜ì´ë¸Œë¦¬ë“œ ëª¨ë¸)
â”œâ”€â”€ frontend/
â”‚   â”œâ”€â”€ src/
â”‚   â”‚   â”œâ”€â”€ components/       # React ì»´í¬ë„ŒíŠ¸
â”‚   â”‚   â”œâ”€â”€ hooks/            # ì»¤ìŠ¤í…€ í›…
â”‚   â”‚   â”œâ”€â”€ utils/            # ìƒìˆ˜, ì„¤ì •
â”‚   â”‚   â”œâ”€â”€ App.jsx           # ë©”ì¸ ì•±
â”‚   â”‚   â””â”€â”€ main.jsx          # ì§„ì…ì 
â”‚   â”œâ”€â”€ .env.example          # í™˜ê²½ë³€ìˆ˜ í…œí”Œë¦¿
â”‚   â””â”€â”€ package.json          # ì˜ì¡´ì„±
â”œâ”€â”€ vercel.json               # Vercel ì„¤ì •
â”œâ”€â”€ DEPLOYMENT_GUIDE.md       # ìƒì„¸ ë°°í¬ ê°€ì´ë“œ
â””â”€â”€ README.md                 # ì´ íŒŒì¼
```

## ë°°í¬

### ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸ (Remix IDE)

1. https://remix.ethereum.org ì ‘ì†
2. `contracts/Lottery.sol` ë³µì‚¬
3. Solidity 0.8.19ë¡œ ì»´íŒŒì¼
4. Sepolia ë„¤íŠ¸ì›Œí¬ì— ë°°í¬ (VRF êµ¬ë… ID í•„ìš”)
5. Chainlink VRF Consumerë¡œ ë“±ë¡
6. VRF êµ¬ë…ì— LINK ì¶©ì „

### í”„ë¡ íŠ¸ì—”ë“œ (Vercel + GitHub Actions)

main ë¸Œëœì¹˜ì— í‘¸ì‹œí•˜ë©´ ìë™ ë°°í¬ë©ë‹ˆë‹¤.

#### ì´ˆê¸° ì„¤ì •

1. Vercelì—ì„œ í”„ë¡œì íŠ¸ ìƒì„±
2. GitHub Secrets ì„¤ì •:
   - `VERCEL_TOKEN`: Vercel ì•¡ì„¸ìŠ¤ í† í°
   - `VERCEL_ORG_ID`: Vercel ì¡°ì§ ID
   - `VERCEL_PROJECT_ID`: Vercel í”„ë¡œì íŠ¸ ID
   - `VITE_CONTRACT_ADDRESS`: ë°°í¬ëœ ì»¨íŠ¸ë™íŠ¸ ì£¼ì†Œ

ìì„¸í•œ ë°°í¬ ê°€ì´ë“œëŠ” [DEPLOYMENT_GUIDE.md](DEPLOYMENT_GUIDE.md) ì°¸ì¡°

## ì‚¬ìš© ë°©ë²•

### ë³µê¶Œ ì°¸ê°€
1. MetaMask ì§€ê°‘ ì—°ê²°
2. Sepolia ë„¤íŠ¸ì›Œí¬ ì„ íƒ
3. "ë³µê¶Œ ì°¸ê°€í•˜ê¸°" í´ë¦­ (0.01 ETH)

### ë‹¹ì²¨ì ì¶”ì²¨ (ê´€ë¦¬ì)
1. ì»¨íŠ¸ë™íŠ¸ ë°°í¬ì ì§€ê°‘ìœ¼ë¡œ ì ‘ì†
2. "ë‹¹ì²¨ì ì¶”ì²¨ ì‹œì‘" í´ë¦­
3. ì•½ 2-3ë¶„ ëŒ€ê¸° (VRF ì²˜ë¦¬)
4. ê²°ê³¼ í™•ì¸:
   - ë³´ì¥ ë‹¹ì²¨ê¸ˆ: ë¬´ì¡°ê±´ ì§€ê¸‰
   - ì­íŒŸ: 10% í™•ë¥ ë¡œ ì§€ê¸‰ ë˜ëŠ” ì´ì›”

## ìŠ¤ë§ˆíŠ¸ ì»¨íŠ¸ë™íŠ¸

### ì£¼ìš” í•¨ìˆ˜

| í•¨ìˆ˜ | ì„¤ëª… | ê¶Œí•œ |
|------|------|------|
| `enter()` | ë³µê¶Œ ì°¸ê°€ (0.01 ETH) | ëˆ„êµ¬ë‚˜ |
| `pickWinner()` | ë‹¹ì²¨ì ì¶”ì²¨ ì‹œì‘ | ê´€ë¦¬ì |
| `getPlayers()` | ì°¸ê°€ì ëª©ë¡ ì¡°íšŒ | ëˆ„êµ¬ë‚˜ |
| `getPrizePool()` | í˜„ì¬ ì´ ìƒê¸ˆ ì¡°íšŒ | ëˆ„êµ¬ë‚˜ |
| `getJackpotPool()` | í˜„ì¬ ì­íŒŸ í’€ ì¡°íšŒ | ëˆ„êµ¬ë‚˜ |
| `getGuaranteedPool()` | ë³´ì¥ ë‹¹ì²¨ê¸ˆ í’€ ì¡°íšŒ | ëˆ„êµ¬ë‚˜ |
| `getLotteryInfo()` | ì „ì²´ ë³µê¶Œ ì •ë³´ ì¡°íšŒ | ëˆ„êµ¬ë‚˜ |

### ìˆ˜ìµ ë¶„ë°° ì„¤ì •

```solidity
uint256 public constant WINNER_PERCENTAGE = 85;       // ë‹¹ì²¨ì: 85%
uint256 public constant DONATION_PERCENTAGE = 10;     // ê¸°ë¶€: 10%
uint256 public constant ADMIN_FEE_PERCENTAGE = 5;     // ìš´ì˜ë¹„: 5%

uint256 public constant GUARANTEED_POOL_PERCENTAGE = 50;  // ë³´ì¥ ë‹¹ì²¨: 50%
uint256 public constant JACKPOT_POOL_PERCENTAGE = 50;     // ì­íŒŸ: 50%
uint256 public constant JACKPOT_WIN_CHANCE = 10;          // ì­íŒŸ í™•ë¥ : 10%
```

> âš ï¸ í˜„ì¬ ê¸°ë¶€ ì£¼ì†ŒëŠ” í…ŒìŠ¤íŠ¸ìš©ì…ë‹ˆë‹¤. ì‹¤ì œ ì‚¬ìš© ì „ ë³€ê²½ í•„ìš”!

## í…ŒìŠ¤íŠ¸ í™˜ê²½

- ë„¤íŠ¸ì›Œí¬: Sepolia í…ŒìŠ¤íŠ¸ë„·
- í•„ìš”í•œ ê²ƒ:
  - MetaMask ì§€ê°‘
  - Sepolia ETH (Faucetì—ì„œ ë¬´ë£Œ)
  - Sepolia LINK (VRFìš©)

### Faucet ì‚¬ì´íŠ¸
- ETH: https://cloud.google.com/application/web3/faucet/ethereum/sepolia
- LINK: https://faucets.chain.link/sepolia

## ë¼ì´ì„ ìŠ¤

MIT License

## ì°¸ê³  ìë£Œ

- [Chainlink VRF ë¬¸ì„œ](https://docs.chain.link/vrf)
- [ethers.js ë¬¸ì„œ](https://docs.ethers.org/v6/)
- [Vite ë¬¸ì„œ](https://vitejs.dev/)